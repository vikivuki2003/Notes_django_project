{% extends 'notes_app/main.html' %}

{% load static %}

<head>
    <meta charset="UTF-8">
    {% block title %}Список заметок{% endblock %}
    <link rel="stylesheet" href="{% static 'css/my_styles.css' %}">
</head>
<body>
{% block content %}
    <section class="note-list">
        <h1>{% block header %}Список моих заметок{% endblock %}</h1>
        <!-- Элементы управления сортировкой -->
        <div class="sorting-controls">
            <a href="?sort=new" class="{% if request.GET.sort == 'new' %}active{% endif %}">Сначала новые</a>
            <a href="?sort=old" class="{% if request.GET.sort == 'old' %}active{% endif %}">Сначала старые</a>
        </div>
        {% if notes %}
            <div class="notes-container">
                {% for note in notes %}
                    <div class="note-item">
                        <h3><a href="{% url 'notes_app:note_detail' note.pk %}">{{ note.title }}</a></h3>
                        <p>{{ note.content }}</p>
                        <small>Создано: {{ note.created_at }}</small>
                        <div class="note-actions">
                            <a href="{% url 'notes_app:note_update' note.pk %}">Редактировать</a>
                            <a href="{% url 'notes_app:note_delete' note.pk %}">Удалить</a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p>У вас пока нет заметок. Добавьте новую!</p>
        {% endif %}
    </section>
</main>
</body>
{% endblock %}